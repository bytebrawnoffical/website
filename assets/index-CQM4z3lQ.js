import*as n from"https://unpkg.com/three@0.155.0/build/three.module.js";import{OBJLoader as b}from"https://unpkg.com/three@0.155.0/examples/jsm/loaders/OBJLoader.js";import{MTLLoader as L}from"https://unpkg.com/three@0.155.0/examples/jsm/loaders/MTLLoader.js";import{OrbitControls as v}from"https://unpkg.com/three@0.155.0/examples/jsm/controls/OrbitControls.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const l of t.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function d(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function a(e){if(e.ep)return;e.ep=!0;const t=d(e);fetch(e.href,t)}})();function M(){return/iPhone|iPad|iPod/i.test(navigator.userAgent)}function P(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}const s=new n.Scene,m=new n.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3);m.position.z=10;const u=new n.WebGLRenderer({alpha:!0});u.setSize(window.innerWidth,window.innerHeight);u.setPixelRatio(window.devicePixelRatio);s.background=new n.Color(0);document.body.appendChild(u.domElement);const r=document.createElement("video");r.loop=!0;r.muted=!0;r.playsInline=!0;r.autoplay=!1;const h=document.createElement("source");h.src="assets/ezgif.com-gif-to-mp4-converter(4).mp4";h.type="video/mp4";const w=document.createElement("source");w.src="assets/ezgif.com-gif-to-mp4-converter(4).webm";w.type="video/webm";r.appendChild(h);r.appendChild(w);function f(){r.play().catch(o=>{console.error("Video playback failed:",o)}),document.removeEventListener("click",f),document.removeEventListener("touchstart",f)}M()||P()?(document.addEventListener("click",f),document.addEventListener("touchstart",f)):(r.autoplay=!0,r.play());r.addEventListener("canplay",()=>{const o=new n.VideoTexture(r);s.background=o,r.play()});r.addEventListener("error",()=>{new n.TextureLoader().load("assets/static-background-image.jpg",i=>{s.background=i})});const E=new n.AmbientLight(16777215,.5);s.add(E);const g=new n.DirectionalLight(16777215,1);g.position.set(10,10,10).normalize();s.add(g);const c=new v(m,u.domElement);c.enableDamping=!0;c.dampingFactor=.05;c.enableZoom=!0;c.autoRotate=!0;c.autoRotateSpeed=2;c.minDistance=5;c.maxDistance=20;function x(){const o=new n.Group,i=500,d=50,a=[16711680,65280,255];for(let e=0;e<i;e++){const t=new n.PlaneGeometry(.3,.1),l=new n.MeshBasicMaterial({color:a[Math.floor(Math.random()*a.length)],side:n.DoubleSide}),p=new n.Mesh(t,l);p.position.set((Math.random()-.5)*d,(Math.random()-.5)*d,(Math.random()-.5)*d),p.rotation.set(Math.random()*Math.PI,Math.random()*Math.PI,Math.random()*Math.PI),o.add(p)}return s.add(o),o}const O=x();function C(){O.children.forEach(o=>{o.position.y-=.02,o.position.y<-25&&(o.position.y=25)})}function y(){requestAnimationFrame(y),c.update(),C(),u.render(s,m)}function S(o,i){new L().load(i,a=>{a.preload();const e=new b;e.setMaterials(a),e.load(o,t=>{t.scale.set(.8,.8,.8),t.rotation.x=-Math.PI/2,s.add(t),y()})})}const I="https://raw.githubusercontent.com/bytebrawnoffical/website/main/assets/component.obj",z="https://raw.githubusercontent.com/bytebrawnoffical/website/main/assets/component.mtl";S(I,z);window.addEventListener("resize",()=>{u.setSize(window.innerWidth,window.innerHeight),m.aspect=window.innerWidth/window.innerHeight,m.updateProjectionMatrix()});
