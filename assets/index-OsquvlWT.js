import*as n from"https://unpkg.com/three@0.155.0/build/three.module.js";import{OBJLoader as v}from"https://unpkg.com/three@0.155.0/examples/jsm/loaders/OBJLoader.js";import{MTLLoader as x}from"https://unpkg.com/three@0.155.0/examples/jsm/loaders/MTLLoader.js";import{OrbitControls as M}from"https://unpkg.com/three@0.155.0/examples/jsm/controls/OrbitControls.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const m of t.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&s(m)}).observe(document,{childList:!0,subtree:!0});function l(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function s(e){if(e.ep)return;e.ep=!0;const t=l(e);fetch(e.href,t)}})();function P(){return/iPhone|iPad|iPod/i.test(navigator.userAgent)}function E(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}const d=new n.Scene,f=new n.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3);f.position.z=10;const u=new n.WebGLRenderer({alpha:!0});u.setSize(window.innerWidth,window.innerHeight);u.setPixelRatio(window.devicePixelRatio);d.background=new n.Color(0);document.body.appendChild(u.domElement);const r=document.createElement("video");r.loop=!0;r.muted=!0;r.playsInline=!0;r.autoplay=!1;const g=document.createElement("source");g.src="assets/ezgif.com-gif-to-mp4-converter(4).mp4";g.type="video/mp4";const y=document.createElement("source");y.src="assets/ezgif.com-gif-to-mp4-converter(4).webm";y.type="video/webm";r.appendChild(g);r.appendChild(y);function p(){r.play().catch(o=>{console.error("Video playback failed:",o)}),document.removeEventListener("click",p),document.removeEventListener("touchstart",p)}P()||E()?(document.addEventListener("click",p),document.addEventListener("touchstart",p)):(r.autoplay=!0,r.play());r.addEventListener("canplay",()=>{const o=new n.VideoTexture(r);d.background=o,r.play()});r.addEventListener("error",()=>{new n.TextureLoader().load("assets/static-background-image.jpg",a=>{d.background=a})});const C=new n.AmbientLight(16777215,.5);d.add(C);const b=new n.DirectionalLight(16777215,1);b.position.set(10,10,10).normalize();d.add(b);const c=new M(f,u.domElement);c.enableDamping=!0;c.dampingFactor=.05;c.enableZoom=!0;c.autoRotate=!0;c.autoRotateSpeed=2;c.minDistance=5;c.maxDistance=20;function O(){const o=new n.Group,a=500,l=50,s=[16711680,65280,255];for(let e=0;e<a;e++){const t=new n.PlaneGeometry(.3,.1),m=new n.MeshBasicMaterial({color:s[Math.floor(Math.random()*s.length)],side:n.DoubleSide}),h=new n.Mesh(t,m);h.position.set((Math.random()-.5)*l,(Math.random()-.5)*l,(Math.random()-.5)*l),h.rotation.set(Math.random()*Math.PI,Math.random()*Math.PI,Math.random()*Math.PI),o.add(h)}return d.add(o),o}const I=O();function S(){I.children.forEach(o=>{o.position.y-=.02,o.position.y<-25&&(o.position.y=25)})}function L(){requestAnimationFrame(L),c.update(),S(),u.render(d,f)}function z(o,a){new x().load(a,s=>{s.preload();const e=new v;e.setMaterials(s),e.load(o,t=>{t.scale.set(.8,.8,.8),t.rotation.x=-Math.PI/2,d.add(t),L()})})}const T="https://raw.githubusercontent.com/bytebrawnoffical/website/main/assets/component.obj",W="https://raw.githubusercontent.com/bytebrawnoffical/website/main/assets/component.mtl";z(T,W);const i=document.createElement("div");i.id="loading-text";i.style.position="absolute";i.style.bottom="50px";i.style.width="100%";i.style.fontSize="24px";i.style.color="#000000";i.style.textAlign="center";i.style.zIndex="10";i.textContent="Loading";document.body.appendChild(i);let w=0;setInterval(()=>{w=(w+1)%4,i.textContent="Loading"+".".repeat(w)},500);window.addEventListener("resize",()=>{u.setSize(window.innerWidth,window.innerHeight),f.aspect=window.innerWidth/window.innerHeight,f.updateProjectionMatrix()});
